<?xml version="1.0" ?>
<zabbix_export>
	<version>3.4</version>
	<date>2017-01-01T01:01:01Z</date>
	<groups>
		<group>
			<name>Templates</name>
		</group>
	</groups>
	<templates>
		<template>
			<template>GTS-IS Template SNMP OS ESXi</template>
			<name>GTS-IS Template SNMP OS ESXi</name>
			<description/>
			<groups>
				<group>
					<name>Templates</name>
				</group>
			</groups>
			<applications>
				<application>
					<name>Disk partitions</name>
				</application>
				<application>
					<name>General</name>
				</application>
				<application>
					<name>Interfaces</name>
				</application>
				<application>
					<name>Memory</name>
				</application>
				<application>
					<name>Processors</name>
				</application>
				<application>
					<name>Virtual Machines</name>
				</application>
			</applications>
			<items>
				<item>
					<name>Device name</name>
					<type>4</type>
					<snmp_community>{$SNMP_COMMUNITY}</snmp_community>
					<snmp_oid>SNMPv2-MIB::sysName.0</snmp_oid>
					<key>sysName</key>
					<delay>1h</delay>
					<history>1w</history>
					<trends>0</trends>
					<status>0</status>
					<value_type>1</value_type>
					<allowed_hosts/>
					<units/>
					<snmpv3_contextname/>
					<snmpv3_securityname/>
					<snmpv3_securitylevel>0</snmpv3_securitylevel>
					<snmpv3_authprotocol>0</snmpv3_authprotocol>
					<snmpv3_authpassphrase/>
					<snmpv3_privprotocol>0</snmpv3_privprotocol>
					<snmpv3_privpassphrase/>
					<params/>
					<ipmi_sensor/>
					<authtype>0</authtype>
					<username/>
					<password/>
					<publickey/>
					<privatekey/>
					<port/>
					<description>An administratively-assigned name for this managed node. By convention, this is the node's fully-qualified domain name.  If the name is unknown, the value is the zero-length string.</description>
					<inventory_link>3</inventory_link>
					<applications>
						<application>
							<name>General</name>
						</application>
					</applications>
					<valuemap/>
					<logtimefmt/>
					<preprocessing/>
					<jmx_endpoint/>
					<master_item/>
				</item>
				<item>
					<name>Device uptime</name>
					<type>4</type>
					<snmp_community>{$SNMP_COMMUNITY}</snmp_community>
					<snmp_oid>SNMPv2-MIB::sysUpTime.0</snmp_oid>
					<key>sysUpTime</key>
					<delay>5m</delay>
					<history>1w</history>
					<trends>365d</trends>
					<status>0</status>
					<value_type>3</value_type>
					<allowed_hosts/>
					<units>uptime</units>
					<snmpv3_contextname/>
					<snmpv3_securityname/>
					<snmpv3_securitylevel>0</snmpv3_securitylevel>
					<snmpv3_authprotocol>0</snmpv3_authprotocol>
					<snmpv3_authpassphrase/>
					<snmpv3_privprotocol>0</snmpv3_privprotocol>
					<snmpv3_privpassphrase/>
					<params/>
					<ipmi_sensor/>
					<authtype>0</authtype>
					<username/>
					<password/>
					<publickey/>
					<privatekey/>
					<port/>
					<description>The time since the network management portion of the system was last re-initialized.</description>
					<inventory_link>0</inventory_link>
					<applications>
						<application>
							<name>General</name>
						</application>
					</applications>
					<valuemap/>
					<logtimefmt/>
					<preprocessing>
						<step>
							<type>1</type>
							<params>0.01</params>
						</step>
					</preprocessing>
					<jmx_endpoint/>
					<master_item/>
				</item>
				<item>
					<name>VMWare Build</name>
					<type>4</type>
					<snmp_community>{$SNMP_COMMUNITY}</snmp_community>
					<snmp_oid>.1.3.6.1.4.1.6876.1.4.0</snmp_oid>
					<key>vmwProdBuild.0</key>
					<delay>1h</delay>
					<history>90d</history>
					<trends>365d</trends>
					<status>0</status>
					<value_type>3</value_type>
					<allowed_hosts/>
					<units/>
					<snmpv3_contextname/>
					<snmpv3_securityname/>
					<snmpv3_securitylevel>0</snmpv3_securitylevel>
					<snmpv3_authprotocol>0</snmpv3_authprotocol>
					<snmpv3_authpassphrase/>
					<snmpv3_privprotocol>0</snmpv3_privprotocol>
					<snmpv3_privpassphrase/>
					<params/>
					<ipmi_sensor/>
					<authtype>0</authtype>
					<username/>
					<password/>
					<publickey/>
					<privatekey/>
					<port>161</port>
					<description/>
					<inventory_link>0</inventory_link>
					<applications>
						<application>
							<name>General</name>
						</application>
					</applications>
					<valuemap/>
					<logtimefmt/>
					<preprocessing/>
					<jmx_endpoint/>
					<master_item/>
				</item>
				<item>
					<name>ESXi Version</name>
					<type>4</type>
					<snmp_community>{$SNMP_COMMUNITY}</snmp_community>
					<snmp_oid>.1.3.6.1.4.1.6876.1.2.0</snmp_oid>
					<key>vmwProdVersion.0</key>
					<delay>1h</delay>
					<history>90d</history>
					<trends>0</trends>
					<status>0</status>
					<value_type>4</value_type>
					<allowed_hosts/>
					<units/>
					<snmpv3_contextname/>
					<snmpv3_securityname/>
					<snmpv3_securitylevel>0</snmpv3_securitylevel>
					<snmpv3_authprotocol>0</snmpv3_authprotocol>
					<snmpv3_authpassphrase/>
					<snmpv3_privprotocol>0</snmpv3_privprotocol>
					<snmpv3_privpassphrase/>
					<params/>
					<ipmi_sensor/>
					<authtype>0</authtype>
					<username/>
					<password/>
					<publickey/>
					<privatekey/>
					<port>161</port>
					<description/>
					<inventory_link>0</inventory_link>
					<applications>
						<application>
							<name>General</name>
						</application>
					</applications>
					<valuemap/>
					<logtimefmt/>
					<preprocessing/>
					<jmx_endpoint/>
					<master_item/>
				</item>
			</items>
			<discovery_rules>
				<discovery_rule>
					<name>Disk partitions</name>
					<type>4</type>
					<snmp_community>{$SNMP_COMMUNITY}</snmp_community>
					<snmp_oid>discovery[{#SNMPVALUE},hrStorageAllocationUnits]</snmp_oid>
					<key>hrStorageAlloc</key>
					<delay>5m</delay>
					<status>0</status>
					<allowed_hosts/>
					<snmpv3_contextname/>
					<snmpv3_securityname/>
					<snmpv3_securitylevel>0</snmpv3_securitylevel>
					<snmpv3_authprotocol>0</snmpv3_authprotocol>
					<snmpv3_authpassphrase/>
					<snmpv3_privprotocol>0</snmpv3_privprotocol>
					<snmpv3_privpassphrase/>
					<params/>
					<ipmi_sensor/>
					<authtype>0</authtype>
					<username/>
					<password/>
					<publickey/>
					<privatekey/>
					<port/>
					<filter>
						<evaltype>0</evaltype>
						<formula/>
						<conditions>
							<condition>
								<macro>{#SNMPVALUE}</macro>
								<value>1048576|4194304|8388608|2097152</value>
								<operator>8</operator>
								<formulaid>A</formulaid>
							</condition>
						</conditions>
					</filter>
					<lifetime>30d</lifetime>
					<description>The rule will discover all dis partitions matching the global regexp &quot;Storage devices for SNMP discovery&quot;.

{$SNMP_COMMUNITY} is a global macro.
hrStorageFixedDisk</description>
					<item_prototypes>
						<item_prototype>
							<name>Allocation units VMFS {#SNMPINDEX}</name>
							<type>4</type>
							<snmp_community>{$SNMP_COMMUNITY}</snmp_community>
							<snmp_oid>.1.3.6.1.2.1.25.2.3.1.4.{#SNMPINDEX}</snmp_oid>
							<key>hrStorageAllocationUnits[{#SNMPINDEX}]</key>
							<delay>1h</delay>
							<history>90d</history>
							<trends>365d</trends>
							<status>0</status>
							<value_type>3</value_type>
							<allowed_hosts/>
							<units/>
							<snmpv3_contextname/>
							<snmpv3_securityname/>
							<snmpv3_securitylevel>0</snmpv3_securitylevel>
							<snmpv3_authprotocol>0</snmpv3_authprotocol>
							<snmpv3_authpassphrase/>
							<snmpv3_privprotocol>0</snmpv3_privprotocol>
							<snmpv3_privpassphrase/>
							<params/>
							<ipmi_sensor/>
							<authtype>0</authtype>
							<username/>
							<password/>
							<publickey/>
							<privatekey/>
							<port/>
							<description/>
							<inventory_link>0</inventory_link>
							<applications>
								<application>
									<name>Disk partitions</name>
								</application>
							</applications>
							<valuemap/>
							<logtimefmt/>
							<preprocessing/>
							<jmx_endpoint/>
							<application_prototypes/>
							<master_item_prototype/>
						</item_prototype>
						<item_prototype>
							<name>Description of VMFS {#SNMPINDEX}</name>
							<type>4</type>
							<snmp_community>{$SNMP_COMMUNITY}</snmp_community>
							<snmp_oid>.1.3.6.1.2.1.25.2.3.1.3.{#SNMPINDEX}</snmp_oid>
							<key>hrStorageDescr[{#SNMPINDEX}]</key>
							<delay>1h</delay>
							<history>1w</history>
							<trends>0</trends>
							<status>0</status>
							<value_type>1</value_type>
							<allowed_hosts/>
							<units/>
							<snmpv3_contextname/>
							<snmpv3_securityname/>
							<snmpv3_securitylevel>0</snmpv3_securitylevel>
							<snmpv3_authprotocol>0</snmpv3_authprotocol>
							<snmpv3_authpassphrase/>
							<snmpv3_privprotocol>0</snmpv3_privprotocol>
							<snmpv3_privpassphrase/>
							<params/>
							<ipmi_sensor/>
							<authtype>0</authtype>
							<username/>
							<password/>
							<publickey/>
							<privatekey/>
							<port>161</port>
							<description>A description of the type and instance of the storage described by this entry.</description>
							<inventory_link>0</inventory_link>
							<applications>
								<application>
									<name>Disk partitions</name>
								</application>
							</applications>
							<valuemap/>
							<logtimefmt/>
							<preprocessing/>
							<jmx_endpoint/>
							<application_prototypes/>
							<master_item_prototype/>
						</item_prototype>
						<item_prototype>
							<name>Total size of VMFS {#SNMPINDEX} in blocks</name>
							<type>4</type>
							<snmp_community>{$SNMP_COMMUNITY}</snmp_community>
							<snmp_oid>.1.3.6.1.2.1.25.2.3.1.5.{#SNMPINDEX}</snmp_oid>
							<key>hrStorageSizeBlocks[{#SNMPINDEX}]</key>
							<delay>1h</delay>
							<history>1w</history>
							<trends>365d</trends>
							<status>0</status>
							<value_type>3</value_type>
							<allowed_hosts/>
							<units>blocks</units>
							<snmpv3_contextname/>
							<snmpv3_securityname/>
							<snmpv3_securitylevel>0</snmpv3_securitylevel>
							<snmpv3_authprotocol>0</snmpv3_authprotocol>
							<snmpv3_authpassphrase/>
							<snmpv3_privprotocol>0</snmpv3_privprotocol>
							<snmpv3_privpassphrase/>
							<params/>
							<ipmi_sensor/>
							<authtype>0</authtype>
							<username/>
							<password/>
							<publickey/>
							<privatekey/>
							<port>161</port>
							<description>The size of the storage represented by this entry, in units of hrStorageAllocationUnits. This object is writable to allow remote configuration of the size of the storage area in those cases where such an operation makes sense and is possible on the underlying system. For example, the amount of main memory allocated to a buffer pool might be modified or the amount of disk space allocated to virtual memory might be modified.</description>
							<inventory_link>0</inventory_link>
							<applications>
								<application>
									<name>Disk partitions</name>
								</application>
							</applications>
							<valuemap/>
							<logtimefmt/>
							<preprocessing/>
							<jmx_endpoint/>
							<application_prototypes/>
							<master_item_prototype/>
						</item_prototype>
						<item_prototype>
							<name>Total size of VMFS {#SNMPINDEX}</name>
							<type>15</type>
							<snmp_community/>
							<snmp_oid/>
							<key>hrStorageSize[{#SNMPINDEX}]</key>
							<delay>1h</delay>
							<history>1w</history>
							<trends>365d</trends>
							<status>0</status>
							<value_type>3</value_type>
							<allowed_hosts/>
							<units>Bytes</units>
							<snmpv3_contextname/>
							<snmpv3_securityname/>
							<snmpv3_securitylevel>0</snmpv3_securitylevel>
							<snmpv3_authprotocol>0</snmpv3_authprotocol>
							<snmpv3_authpassphrase/>
							<snmpv3_privprotocol>0</snmpv3_privprotocol>
							<snmpv3_privpassphrase/>
							<params>last(&quot;hrStorageSizeBlocks[{#SNMPINDEX}]&quot;) * last(&quot;hrStorageAllocationUnits[{#SNMPINDEX}]&quot;)</params>
							<ipmi_sensor/>
							<authtype>0</authtype>
							<username/>
							<password/>
							<publickey/>
							<privatekey/>
							<port/>
							<description>The size of the storage represented by this entry, in units of hrStorageAllocationUnits. This object is writable to allow remote configuration of the size of the storage area in those cases where such an operation makes sense and is possible on the underlying system. For example, the amount of main memory allocated to a buffer pool might be modified or the amount of disk space allocated to virtual memory might be modified.</description>
							<inventory_link>0</inventory_link>
							<applications>
								<application>
									<name>Disk partitions</name>
								</application>
							</applications>
							<valuemap/>
							<logtimefmt/>
							<preprocessing/>
							<jmx_endpoint/>
							<application_prototypes/>
							<master_item_prototype/>
						</item_prototype>
						<item_prototype>
							<name>Used disk on VMFS {#SNMPINDEX} in blocks</name>
							<type>4</type>
							<snmp_community>{$SNMP_COMMUNITY}</snmp_community>
							<snmp_oid>.1.3.6.1.2.1.25.2.3.1.6.{#SNMPINDEX}</snmp_oid>
							<key>hrStorageUsedBlocks[{#SNMPINDEX}]</key>
							<delay>1m</delay>
							<history>90d</history>
							<trends>365d</trends>
							<status>0</status>
							<value_type>3</value_type>
							<allowed_hosts/>
							<units>MB</units>
							<snmpv3_contextname/>
							<snmpv3_securityname/>
							<snmpv3_securitylevel>0</snmpv3_securitylevel>
							<snmpv3_authprotocol>0</snmpv3_authprotocol>
							<snmpv3_authpassphrase/>
							<snmpv3_privprotocol>0</snmpv3_privprotocol>
							<snmpv3_privpassphrase/>
							<params/>
							<ipmi_sensor/>
							<authtype>0</authtype>
							<username/>
							<password/>
							<publickey/>
							<privatekey/>
							<port>161</port>
							<description>The amount of the storage represented by this entry that is allocated, in units of hrStorageAllocationUnits.</description>
							<inventory_link>0</inventory_link>
							<applications>
								<application>
									<name>Disk partitions</name>
								</application>
							</applications>
							<valuemap/>
							<logtimefmt/>
							<preprocessing/>
							<jmx_endpoint/>
							<application_prototypes/>
							<master_item_prototype/>
						</item_prototype>
						<item_prototype>
							<name>Used disk on VMFS {#SNMPINDEX}</name>
							<type>15</type>
							<snmp_community/>
							<snmp_oid/>
							<key>hrStorageUsed[{#SNMPINDEX}]</key>
							<delay>1m</delay>
							<history>90d</history>
							<trends>365d</trends>
							<status>0</status>
							<value_type>3</value_type>
							<allowed_hosts/>
							<units>Bytes</units>
							<snmpv3_contextname/>
							<snmpv3_securityname/>
							<snmpv3_securitylevel>0</snmpv3_securitylevel>
							<snmpv3_authprotocol>0</snmpv3_authprotocol>
							<snmpv3_authpassphrase/>
							<snmpv3_privprotocol>0</snmpv3_privprotocol>
							<snmpv3_privpassphrase/>
							<params>last(&quot;hrStorageUsedBlocks[{#SNMPINDEX}]&quot;) * last(&quot;hrStorageAllocationUnits[{#SNMPINDEX}]&quot;)</params>
							<ipmi_sensor/>
							<authtype>0</authtype>
							<username/>
							<password/>
							<publickey/>
							<privatekey/>
							<port/>
							<description>The amount of the storage represented by this entry that is allocated, in units of hrStorageAllocationUnits.</description>
							<inventory_link>0</inventory_link>
							<applications>
								<application>
									<name>Disk partitions</name>
								</application>
							</applications>
							<valuemap/>
							<logtimefmt/>
							<preprocessing/>
							<jmx_endpoint/>
							<application_prototypes/>
							<master_item_prototype/>
						</item_prototype>
						<item_prototype>
							<name>Used Space % on VMFS {#SNMPINDEX}</name>
							<type>15</type>
							<snmp_community/>
							<snmp_oid/>
							<key>vmfs.FreeSpacePer[{#SNMPINDEX}]</key>
							<delay>5m</delay>
							<history>90d</history>
							<trends>365d</trends>
							<status>0</status>
							<value_type>0</value_type>
							<allowed_hosts/>
							<units>%</units>
							<snmpv3_contextname/>
							<snmpv3_securityname/>
							<snmpv3_securitylevel>0</snmpv3_securitylevel>
							<snmpv3_authprotocol>0</snmpv3_authprotocol>
							<snmpv3_authpassphrase/>
							<snmpv3_privprotocol>0</snmpv3_privprotocol>
							<snmpv3_privpassphrase/>
							<params>last(&quot;hrStorageUsed[{#SNMPINDEX}]&quot;)/last(&quot;hrStorageSize[{#SNMPINDEX}]&quot;)*100</params>
							<ipmi_sensor/>
							<authtype>0</authtype>
							<username/>
							<password/>
							<publickey/>
							<privatekey/>
							<port/>
							<description/>
							<inventory_link>0</inventory_link>
							<applications>
								<application>
									<name>Disk partitions</name>
								</application>
							</applications>
							<valuemap/>
							<logtimefmt/>
							<preprocessing/>
							<jmx_endpoint/>
							<application_prototypes/>
							<master_item_prototype/>
						</item_prototype>
						<item_prototype>
							<name>Free Space on VMFS {#SNMPINDEX}</name>
							<type>15</type>
							<snmp_community/>
							<snmp_oid/>
							<key>vmfs.FreeSpace[{#SNMPINDEX}]</key>
							<delay>5m</delay>
							<history>90d</history>
							<trends>365d</trends>
							<status>0</status>
							<value_type>3</value_type>
							<allowed_hosts/>
							<units>Bytes</units>
							<snmpv3_contextname/>
							<snmpv3_securityname/>
							<snmpv3_securitylevel>0</snmpv3_securitylevel>
							<snmpv3_authprotocol>0</snmpv3_authprotocol>
							<snmpv3_authpassphrase/>
							<snmpv3_privprotocol>0</snmpv3_privprotocol>
							<snmpv3_privpassphrase/>
							<params>last(&quot;hrStorageSize[{#SNMPINDEX}]&quot;)-last(&quot;hrStorageUsed[{#SNMPINDEX}]&quot;)</params>
							<ipmi_sensor/>
							<authtype>0</authtype>
							<username/>
							<password/>
							<publickey/>
							<privatekey/>
							<port/>
							<description/>
							<inventory_link>0</inventory_link>
							<applications>
								<application>
									<name>Disk partitions</name>
								</application>
							</applications>
							<valuemap/>
							<logtimefmt/>
							<preprocessing/>
							<jmx_endpoint/>
							<application_prototypes/>
							<master_item_prototype/>
						</item_prototype>
					</item_prototypes>
					<trigger_prototypes>
						<trigger_prototype>
							<expression>{GTS-IS Template SNMP OS ESXi:hrStorageUsedBlocks[{#SNMPINDEX}].last(0)} / {GTS-IS Template SNMP OS ESXi:hrStorageSizeBlocks[{#SNMPINDEX}].last(0)} &gt; 0.9</expression>
							<recovery_mode>0</recovery_mode>
							<recovery_expression/>
							<name>Free disk space is less than 10% on volume {#SNMPINDEX}</name>
							<correlation_mode>0</correlation_mode>
							<correlation_tag/>
							<url/>
							<status>0</status>
							<priority>3</priority>
							<description/>
							<type>0</type>
							<manual_close>0</manual_close>
							<dependencies/>
							<tags/>
						</trigger_prototype>
						<trigger_prototype>
							<expression>{GTS-IS Template SNMP OS ESXi:hrStorageUsedBlocks[{#SNMPINDEX}].last(0)} / {GTS-IS Template SNMP OS ESXi:hrStorageSizeBlocks[{#SNMPINDEX}].last(0)} &gt; 0.8</expression>
							<recovery_mode>0</recovery_mode>
							<recovery_expression/>
							<name>Free disk space is less than 20% on volume {#SNMPINDEX}</name>
							<correlation_mode>0</correlation_mode>
							<correlation_tag/>
							<url/>
							<status>0</status>
							<priority>2</priority>
							<description/>
							<type>0</type>
							<manual_close>0</manual_close>
							<dependencies/>
							<tags/>
						</trigger_prototype>
					</trigger_prototypes>
					<graph_prototypes>
						<graph_prototype>
							<name>Storage Use  {#SNMPINDEX}</name>
							<width>900</width>
							<height>200</height>
							<yaxismin>0.0000</yaxismin>
							<yaxismax>100.0000</yaxismax>
							<show_work_period>1</show_work_period>
							<show_triggers>1</show_triggers>
							<type>1</type>
							<show_legend>1</show_legend>
							<show_3d>0</show_3d>
							<percent_left>0.0000</percent_left>
							<percent_right>0.0000</percent_right>
							<ymin_type_1>0</ymin_type_1>
							<ymax_type_1>0</ymax_type_1>
							<ymin_item_1>0</ymin_item_1>
							<ymax_item_1>0</ymax_item_1>
							<graph_items>
								<graph_item>
									<sortorder>0</sortorder>
									<drawtype>0</drawtype>
									<color>C80000</color>
									<yaxisside>0</yaxisside>
									<calc_fnc>2</calc_fnc>
									<type>0</type>
									<item>
										<host>GTS-IS Template SNMP OS ESXi</host>
										<key>vmfs.FreeSpacePer[{#SNMPINDEX}]</key>
									</item>
								</graph_item>
							</graph_items>
						</graph_prototype>
					</graph_prototypes>
					<host_prototypes/>
					<jmx_endpoint/>
				</discovery_rule>
				<discovery_rule>
					<name>Memory</name>
					<type>4</type>
					<snmp_community>{$SNMP_COMMUNITY}</snmp_community>
					<snmp_oid>discovery[{#SNMPVALUE},hrStorageDescr]</snmp_oid>
					<key>hrStorageDescr</key>
					<delay>1h</delay>
					<status>0</status>
					<allowed_hosts/>
					<snmpv3_contextname/>
					<snmpv3_securityname/>
					<snmpv3_securitylevel>0</snmpv3_securitylevel>
					<snmpv3_authprotocol>0</snmpv3_authprotocol>
					<snmpv3_authpassphrase/>
					<snmpv3_privprotocol>0</snmpv3_privprotocol>
					<snmpv3_privpassphrase/>
					<params/>
					<ipmi_sensor/>
					<authtype>0</authtype>
					<username/>
					<password/>
					<publickey/>
					<privatekey/>
					<port/>
					<filter>
						<evaltype>0</evaltype>
						<formula/>
						<conditions>
							<condition>
								<macro>{#SNMPVALUE}</macro>
								<value>Real Memory</value>
								<operator>8</operator>
								<formulaid>A</formulaid>
							</condition>
						</conditions>
					</filter>
					<lifetime>30d</lifetime>
					<description/>
					<item_prototypes>
						<item_prototype>
							<name>Used Memory %</name>
							<type>15</type>
							<snmp_community/>
							<snmp_oid/>
							<key>hrMemoryFreePerc[{#SNMPINDEX}]</key>
							<delay>1m</delay>
							<history>90d</history>
							<trends>365d</trends>
							<status>0</status>
							<value_type>0</value_type>
							<allowed_hosts/>
							<units>%</units>
							<snmpv3_contextname/>
							<snmpv3_securityname/>
							<snmpv3_securitylevel>0</snmpv3_securitylevel>
							<snmpv3_authprotocol>0</snmpv3_authprotocol>
							<snmpv3_authpassphrase/>
							<snmpv3_privprotocol>0</snmpv3_privprotocol>
							<snmpv3_privpassphrase/>
							<params>last(&quot;hrMemoryUsed[{#SNMPINDEX}]&quot;)/
last(&quot;hrMemoryTotal[{#SNMPINDEX}]&quot;)*100</params>
							<ipmi_sensor/>
							<authtype>0</authtype>
							<username/>
							<password/>
							<publickey/>
							<privatekey/>
							<port/>
							<description/>
							<inventory_link>0</inventory_link>
							<applications>
								<application>
									<name>Memory</name>
								</application>
							</applications>
							<valuemap/>
							<logtimefmt/>
							<preprocessing/>
							<jmx_endpoint/>
							<application_prototypes/>
							<master_item_prototype/>
						</item_prototype>
						<item_prototype>
							<name>Free Memory</name>
							<type>15</type>
							<snmp_community/>
							<snmp_oid/>
							<key>hrMemoryFree[{#SNMPINDEX}]</key>
							<delay>1m</delay>
							<history>90d</history>
							<trends>365d</trends>
							<status>0</status>
							<value_type>3</value_type>
							<allowed_hosts/>
							<units>Bytes</units>
							<snmpv3_contextname/>
							<snmpv3_securityname/>
							<snmpv3_securitylevel>0</snmpv3_securitylevel>
							<snmpv3_authprotocol>0</snmpv3_authprotocol>
							<snmpv3_authpassphrase/>
							<snmpv3_privprotocol>0</snmpv3_privprotocol>
							<snmpv3_privpassphrase/>
							<params>last(&quot;hrMemoryTotal[{#SNMPINDEX}]&quot;)-last(&quot;hrMemoryUsed[{#SNMPINDEX}]&quot;)</params>
							<ipmi_sensor/>
							<authtype>0</authtype>
							<username/>
							<password/>
							<publickey/>
							<privatekey/>
							<port/>
							<description/>
							<inventory_link>0</inventory_link>
							<applications>
								<application>
									<name>Memory</name>
								</application>
							</applications>
							<valuemap/>
							<logtimefmt/>
							<preprocessing/>
							<jmx_endpoint/>
							<application_prototypes/>
							<master_item_prototype/>
						</item_prototype>
						<item_prototype>
							<name>Total Memory</name>
							<type>4</type>
							<snmp_community>{$SNMP_COMMUNITY}</snmp_community>
							<snmp_oid>.1.3.6.1.2.1.25.2.2.0</snmp_oid>
							<key>hrMemoryTotal[{#SNMPINDEX}]</key>
							<delay>5m</delay>
							<history>90d</history>
							<trends>365d</trends>
							<status>0</status>
							<value_type>3</value_type>
							<allowed_hosts/>
							<units>Bytes</units>
							<snmpv3_contextname/>
							<snmpv3_securityname/>
							<snmpv3_securitylevel>0</snmpv3_securitylevel>
							<snmpv3_authprotocol>0</snmpv3_authprotocol>
							<snmpv3_authpassphrase/>
							<snmpv3_privprotocol>0</snmpv3_privprotocol>
							<snmpv3_privpassphrase/>
							<params/>
							<ipmi_sensor/>
							<authtype>0</authtype>
							<username/>
							<password/>
							<publickey/>
							<privatekey/>
							<port/>
							<description/>
							<inventory_link>0</inventory_link>
							<applications>
								<application>
									<name>Memory</name>
								</application>
							</applications>
							<valuemap/>
							<logtimefmt/>
							<preprocessing>
								<step>
									<type>1</type>
									<params>1024</params>
								</step>
							</preprocessing>
							<jmx_endpoint/>
							<application_prototypes/>
							<master_item_prototype/>
						</item_prototype>
						<item_prototype>
							<name>Memory Used</name>
							<type>4</type>
							<snmp_community>{$SNMP_COMMUNITY}</snmp_community>
							<snmp_oid>.1.3.6.1.2.1.25.2.3.1.6.{#SNMPINDEX}</snmp_oid>
							<key>hrMemoryUsed[{#SNMPINDEX}]</key>
							<delay>1m</delay>
							<history>90d</history>
							<trends>365d</trends>
							<status>0</status>
							<value_type>3</value_type>
							<allowed_hosts/>
							<units>Bytes</units>
							<snmpv3_contextname/>
							<snmpv3_securityname/>
							<snmpv3_securitylevel>0</snmpv3_securitylevel>
							<snmpv3_authprotocol>0</snmpv3_authprotocol>
							<snmpv3_authpassphrase/>
							<snmpv3_privprotocol>0</snmpv3_privprotocol>
							<snmpv3_privpassphrase/>
							<params/>
							<ipmi_sensor/>
							<authtype>0</authtype>
							<username/>
							<password/>
							<publickey/>
							<privatekey/>
							<port/>
							<description/>
							<inventory_link>0</inventory_link>
							<applications>
								<application>
									<name>Memory</name>
								</application>
							</applications>
							<valuemap/>
							<logtimefmt/>
							<preprocessing>
								<step>
									<type>1</type>
									<params>1024</params>
								</step>
							</preprocessing>
							<jmx_endpoint/>
							<application_prototypes/>
							<master_item_prototype/>
						</item_prototype>
					</item_prototypes>
					<trigger_prototypes>
						<trigger_prototype>
							<expression>{GTS-IS Template SNMP OS ESXi:hrMemoryUsed[{#SNMPINDEX}].last(0)} / {GTS-IS Template SNMP OS ESXi:hrMemoryTotal[{#SNMPINDEX}].last(0)} &gt; 0.01</expression>
							<recovery_mode>0</recovery_mode>
							<recovery_expression/>
							<name>Available Memory is less than 2% on {HOST.NAME}</name>
							<correlation_mode>0</correlation_mode>
							<correlation_tag/>
							<url/>
							<status>0</status>
							<priority>2</priority>
							<description/>
							<type>0</type>
							<manual_close>0</manual_close>
							<dependencies/>
							<tags/>
						</trigger_prototype>
					</trigger_prototypes>
					<graph_prototypes/>
					<host_prototypes/>
					<jmx_endpoint/>
				</discovery_rule>
				<discovery_rule>
					<name>Virtual Machines</name>
					<type>4</type>
					<snmp_community>{$SNMP_COMMUNITY}</snmp_community>
					<snmp_oid>discovery[{#SNMPVALUE},enterprises.6876.2.1.1.2]</snmp_oid>
					<key>vmwVmDisplayName</key>
					<delay>15m</delay>
					<status>0</status>
					<allowed_hosts/>
					<snmpv3_contextname/>
					<snmpv3_securityname/>
					<snmpv3_securitylevel>0</snmpv3_securitylevel>
					<snmpv3_authprotocol>0</snmpv3_authprotocol>
					<snmpv3_authpassphrase/>
					<snmpv3_privprotocol>0</snmpv3_privprotocol>
					<snmpv3_privpassphrase/>
					<params/>
					<ipmi_sensor/>
					<authtype>0</authtype>
					<username/>
					<password/>
					<publickey/>
					<privatekey/>
					<port>161</port>
					<filter>
						<evaltype>0</evaltype>
						<formula/>
						<conditions/>
					</filter>
					<lifetime>0</lifetime>
					<description/>
					<item_prototypes>
						<item_prototype>
							<name>VM Guest OS {#SNMPVALUE}</name>
							<type>4</type>
							<snmp_community>{$SNMP_COMMUNITY}</snmp_community>
							<snmp_oid>.1.3.6.1.4.1.6876.2.1.1.4.{#SNMPINDEX}</snmp_oid>
							<key>vmwVMGuestOS.[{#SNMPINDEX}]</key>
							<delay>1h</delay>
							<history>90d</history>
							<trends>0</trends>
							<status>0</status>
							<value_type>4</value_type>
							<allowed_hosts/>
							<units/>
							<snmpv3_contextname/>
							<snmpv3_securityname/>
							<snmpv3_securitylevel>0</snmpv3_securitylevel>
							<snmpv3_authprotocol>0</snmpv3_authprotocol>
							<snmpv3_authpassphrase/>
							<snmpv3_privprotocol>0</snmpv3_privprotocol>
							<snmpv3_privpassphrase/>
							<params/>
							<ipmi_sensor/>
							<authtype>0</authtype>
							<username/>
							<password/>
							<publickey/>
							<privatekey/>
							<port>161</port>
							<description/>
							<inventory_link>0</inventory_link>
							<applications>
								<application>
									<name>Virtual Machines</name>
								</application>
							</applications>
							<valuemap/>
							<logtimefmt/>
							<preprocessing/>
							<jmx_endpoint/>
							<application_prototypes/>
							<master_item_prototype/>
						</item_prototype>
						<item_prototype>
							<name>VM Guest State {#SNMPVALUE}</name>
							<type>4</type>
							<snmp_community>{$SNMP_COMMUNITY}</snmp_community>
							<snmp_oid>.1.3.6.1.4.1.6876.2.1.1.8.{#SNMPINDEX}</snmp_oid>
							<key>vmwVMGuestState.[{#SNMPINDEX}]</key>
							<delay>30s</delay>
							<history>90d</history>
							<trends>0</trends>
							<status>0</status>
							<value_type>4</value_type>
							<allowed_hosts/>
							<units/>
							<snmpv3_contextname/>
							<snmpv3_securityname/>
							<snmpv3_securitylevel>0</snmpv3_securitylevel>
							<snmpv3_authprotocol>0</snmpv3_authprotocol>
							<snmpv3_authpassphrase/>
							<snmpv3_privprotocol>0</snmpv3_privprotocol>
							<snmpv3_privpassphrase/>
							<params/>
							<ipmi_sensor/>
							<authtype>0</authtype>
							<username/>
							<password/>
							<publickey/>
							<privatekey/>
							<port>161</port>
							<description/>
							<inventory_link>0</inventory_link>
							<applications>
								<application>
									<name>Virtual Machines</name>
								</application>
							</applications>
							<valuemap/>
							<logtimefmt/>
							<preprocessing/>
							<jmx_endpoint/>
							<application_prototypes/>
							<master_item_prototype/>
						</item_prototype>
						<item_prototype>
							<name>VM Power State {#SNMPVALUE}</name>
							<type>4</type>
							<snmp_community>{$SNMP_COMMUNITY}</snmp_community>
							<snmp_oid>.1.3.6.1.4.1.6876.2.1.1.6.{#SNMPINDEX}</snmp_oid>
							<key>vmwVMState.[{#SNMPINDEX}]</key>
							<delay>30s</delay>
							<history>90d</history>
							<trends>0</trends>
							<status>0</status>
							<value_type>4</value_type>
							<allowed_hosts/>
							<units/>
							<snmpv3_contextname/>
							<snmpv3_securityname/>
							<snmpv3_securitylevel>0</snmpv3_securitylevel>
							<snmpv3_authprotocol>0</snmpv3_authprotocol>
							<snmpv3_authpassphrase/>
							<snmpv3_privprotocol>0</snmpv3_privprotocol>
							<snmpv3_privpassphrase/>
							<params/>
							<ipmi_sensor/>
							<authtype>0</authtype>
							<username/>
							<password/>
							<publickey/>
							<privatekey/>
							<port>161</port>
							<description/>
							<inventory_link>0</inventory_link>
							<applications>
								<application>
									<name>Virtual Machines</name>
								</application>
							</applications>
							<valuemap/>
							<logtimefmt/>
							<preprocessing/>
							<jmx_endpoint/>
							<application_prototypes/>
							<master_item_prototype/>
						</item_prototype>
					</item_prototypes>
					<trigger_prototypes>
						<trigger_prototype>
							<expression>{GTS-IS Template SNMP OS ESXi:vmwVMGuestState.[{#SNMPINDEX}].regexp(&quot;not running&quot;)}=1</expression>
							<recovery_mode>0</recovery_mode>
							<recovery_expression/>
							<name>Guest Tools not running on {#SNMPVALUE}</name>
							<correlation_mode>0</correlation_mode>
							<correlation_tag/>
							<url/>
							<status>0</status>
							<priority>1</priority>
							<description/>
							<type>0</type>
							<manual_close>0</manual_close>
							<dependencies/>
							<tags/>
						</trigger_prototype>
					</trigger_prototypes>
					<graph_prototypes/>
					<host_prototypes/>
					<jmx_endpoint/>
				</discovery_rule>
			</discovery_rules>
			<httptests/>
			<macros/>
			<templates/>
			<screens/>
		</template>
	</templates>
</zabbix_export>
